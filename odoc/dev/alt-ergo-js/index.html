<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>index (alt-ergo-js.index)</title><link rel="stylesheet" href="../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.2"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ alt-ergo-js</nav><nav class="toc"><ul><li><a href="#alt-ergo-in-javascript">Alt-ergo in Javascript</a><ul><li><a href="#alt-ergo-for-node-js">Alt-ergo for node-js</a></li><li><a href="#the-alt-ergo-web-worker">The Alt-ergo web worker</a><ul><li><a href="#inputs">Inputs</a></li><li><a href="#outpus">Outpus</a></li><li><a href="#dependancies">Dependancies</a></li></ul></li><li><a href="#the-alt-ergo-web-worker-small-example">The Alt-ergo web worker small example</a></li></ul></li></ul></nav></header><h2 id="alt-ergo-in-javascript"><a href="#alt-ergo-in-javascript" class="anchor"></a>Alt-ergo in Javascript</h2><h3 id="alt-ergo-for-node-js"><a href="#alt-ergo-for-node-js" class="anchor"></a>Alt-ergo for node-js</h3><p>A simple javascript version of the alt-ergo package is available with the command <code>make js-node</code>. The command <code>make js-node</code> will create the javascript file <code>alt-ergo.js</code>. This file allows you to run alt-ergo in command line with <code>node</code> like <code>node alt-ergo.js &lt;options&gt; &lt;input_file&gt;</code>. This command uses the Alt-Ergo_common internal lib (see <a href="../alt-ergo/index_common.html"><code>Alt_ergo_common</code></a>) for parsing command line, input file, and main solving loop.</p><p>To run this command you will need the following aditionnal dependencies: <code>js_of_ocaml-compiler</code> and <code>zarith_stubs_js</code>. The <code>--timeout</code> option is ignored due to a lack of js primitives Zip files are not recognised file extension.</p><h3 id="the-alt-ergo-web-worker"><a href="#the-alt-ergo-web-worker" class="anchor"></a>The Alt-ergo web worker</h3><p>A web worker of the alt-ergo solver is available with the command <code>make js-worker</code>. It uses Js_of_ocaml Worker's and Lwt. The <code>data-encoding</code> library is used to encode and decode messages to/from the worker.</p><h4 id="inputs"><a href="#inputs" class="anchor"></a>Inputs</h4><p>This web worker takes a json file composed of a list of string representing each line of an input file. This json file can also be composed of an optional worker identifier (integer) and an optional name for the file to solve. The following code shows an example of a such json file :</p><p><code> {&quot;filename&quot;: &quot;testfile&quot;, &quot;worker_id&quot;: 42, &quot;content&quot;: [ &quot;goal g : true&quot; ] } </code></p><p>The worker also take a Json file that correspond to the options to set in Alt-Ergo, like the following example :</p><p><code> {&quot;debug&quot;: true, &quot;sat_solver&quot;: &quot;Tableaux&quot;, &quot;steps_bound&quot;: 1000} </code></p><h4 id="outpus"><a href="#outpus" class="anchor"></a>Outpus</h4><p>At the end of solving it returns a Json file corresponding to results, debug informations, etc:</p><p><code> { &quot;worker_id&quot;: 42, &quot;status&quot;: { &quot;Unsat&quot;: 0 },
&quot;results&quot;: [ &quot;Valid (0.1940) (0 steps) (goal g)&quot;, &quot;&quot; ],
&quot;debugs&quot;: [ &quot;[Debug][Sat_solver]&quot;, &quot;use Tableaux-like solver&quot;, &quot;&quot; ],
&quot;model&quot;: [ &quot;[all-models] No SAT models found&quot;, &quot;&quot; ],
&quot;unsat_core&quot;: [ &quot;unsat-core:&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot; ],
&quot;errors&quot;: [ &quot;&quot; ],
&quot;warnings&quot;: [ &quot;&quot; ],
&quot;statistics&quot;: [ [], [] ],
 } </code></p><p>Options and results formats are available in <span class="xref-unresolved" title="unresolved reference to &quot;Worker_interface.worker_interface&quot;"><a href="Worker_interface/index.html"><code>Worker_interface</code></a>.worker_interface</span> module. Look at the <code>worker_json_example.json</code> in the ressources <code>rsc</code> of the project to learn more.</p><h4 id="dependancies"><a href="#dependancies" class="anchor"></a>Dependancies</h4><p>To run <code>make js-worker</code> you will need the following additionnal dependencies: <code>js_of_ocaml</code> <code>js_of_ocaml-lwt</code> <code>data-encoding</code> and <code>zarith_stubs_js</code>.</p><p>The <code>--timeout</code> option is ignored due to a lack of js primitives Zip files are not recognised file extension.</p><h3 id="the-alt-ergo-web-worker-small-example"><a href="#the-alt-ergo-web-worker-small-example" class="anchor"></a>The Alt-ergo web worker small example</h3><p>A small example of how to use the Alt-Ergo web worker can be build with the command <code>make js-example</code>. This command also makes the web worker if it has not already been built. It produces a <code>www</code> directory with an <code>index.html</code> file.</p><p>To run this command you will need the following aditionnal dependencies: <code>js_of_ocaml</code> <code>js_of_ocaml-lwt</code> <code>js_of_ocaml-ppx</code> <code>data-encoding</code> and <code>lwt_ppx</code>.</p><p>The <code>--timeout</code> option is ignored due to a lack of js primitives but a timeout can be set using lwt sleep function. Zip files are not recognised file extension.</p></div></body></html>